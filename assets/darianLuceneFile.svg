<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1710px" preserveAspectRatio="none" style="width:1428px;height:1710px;" version="1.1" viewBox="0 0 1428 1710" width="1428.75px" zoomAndPan="magnify"><defs><filter height="300%" id="ffg4gzy2a4kb6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFF00" height="1691.3751" style="stroke: #A80036; stroke-width: 1.25;" width="176.25" x="157.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48.75" x="221.25" y="23.6224">索引库</text><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="295.022" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="89.375" y="92.3431"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="165.4791"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="258.9221"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="352.3651"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="350.658" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="89.375" y="1254.317"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="239.375" y="527.6941"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="543.1689" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="239.375" y="622.3871"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="245.625" y="770.9946"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="245.625" y="1001.17"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="412.5" y="670.2051"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="889.2841"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1130.556"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1291.0385"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1534.5035"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="184.5505" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="820.625" y="1420.4245"/><rect fill="#FFFFFF" filter="url(#ffg4gzy2a4kb6)" height="305.022" style="stroke: #0000FF; stroke-width: 2.5;" width="443.125" x="28.75" y="101.0931"/><rect fill="#FFFFFF" filter="url(#ffg4gzy2a4kb6)" height="1200.1099" style="stroke: #0000FF; stroke-width: 2.5;" width="1399.375" x="16.25" y="423.6151"/><rect fill="#FFFFFF" filter="url(#ffg4gzy2a4kb6)" height="614.4299" style="stroke: #0000FF; stroke-width: 2.5;" width="1016.25" x="150" y="590.1941"/><rect fill="#FFFFFF" filter="url(#ffg4gzy2a4kb6)" height="392.851" style="stroke: #0000FF; stroke-width: 2.5;" width="1374.375" x="28.75" y="1222.124"/><line style="stroke: #FF0000; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="95" x2="95" y1="79.8431" y2="1644.975"/><line style="stroke: #FF0000; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="245" x2="245" y1="79.8431" y2="1644.975"/><line style="stroke: #FF0000; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="418.75" x2="418.75" y1="79.8431" y2="1644.975"/><line style="stroke: #FF0000; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="615" x2="615" y1="79.8431" y2="1644.975"/><line style="stroke: #FF0000; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="826.25" x2="826.25" y1="79.8431" y2="1644.975"/><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="103.75" x="41.25" y="32.193"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="50" y="60.9979">Application</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="103.75" x="41.25" y="1643.725"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="50" y="1672.5299">Application</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="161.25" x="162.5" y="32.193"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="143.75" x="171.25" y="60.9979">LuceneRepository</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="161.25" x="162.5" y="1643.725"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="143.75" x="171.25" y="1672.5299">LuceneRepository</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="150" x="341.25" y="32.193"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="350" y="60.9979">MyLuceneConfig</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="150" x="341.25" y="1643.725"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="350" y="1672.5299">MyLuceneConfig</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="207.5" x="508.75" y="32.193"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="190" x="517.5" y="60.9979">CustomerFileRepository</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="207.5" x="508.75" y="1643.725"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="190" x="517.5" y="1672.5299">CustomerFileRepository</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="181.25" x="733.75" y="32.193"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="163.75" x="742.5" y="60.9979">CustomerFileService</text><rect fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" height="41.4001" style="stroke: #000000; stroke-width: 1.875;" width="181.25" x="733.75" y="1643.725"/><text fill="#0000FF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="163.75" x="742.5" y="1672.5299">CustomerFileService</text><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="295.022" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="89.375" y="92.3431"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="165.4791"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="258.9221"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="95.625" y="352.3651"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="350.658" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="89.375" y="1254.317"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="239.375" y="527.6941"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="543.1689" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="239.375" y="622.3871"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="245.625" y="770.9946"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="245.625" y="1001.17"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="412.5" y="670.2051"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="889.2841"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1130.556"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1291.0385"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="35" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="608.75" y="1534.5035"/><rect fill="#FFC0CB" filter="url(#ffg4gzy2a4kb6)" height="184.5505" style="stroke: #FF0000; stroke-width: 1.25;" width="12.5" x="820.625" y="1420.4245"/><path d="M28.75,101.0931 L231.25,101.0931 L231.25,112.3431 L218.75,124.8431 L28.75,124.8431 L28.75,101.0931 " fill="#ADFF2F" style="stroke: #0000FF; stroke-width: 1.25;"/><rect fill="none" height="305.022" style="stroke: #0000FF; stroke-width: 2.5;" width="443.125" x="28.75" y="101.0931"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146.25" x="47.5" y="120.9656">加载相关的配置信息</text><line style="stroke: #000000; stroke-width: 2.5;" x1="108.125" x2="160.625" y1="155.4791" y2="155.4791"/><line style="stroke: #000000; stroke-width: 2.5;" x1="160.625" x2="160.625" y1="155.4791" y2="171.7291"/><line style="stroke: #000000; stroke-width: 2.5;" x1="109.375" x2="160.625" y1="171.7291" y2="171.7291"/><polygon fill="#000000" points="121.875,166.7291,109.375,171.7291,121.875,176.7291,116.875,171.7291" style="stroke: #000000; stroke-width: 1.25;"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="116.875" y="149.4086">MyGitRepConfig</text><path d="M248.75,133.9111 L248.75,167.6611 L407.5,167.6611 L407.5,146.4111 L395,133.9111 L248.75,133.9111 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M395,133.9111 L395,146.4111 L407.5,146.4111 L395,133.9111 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="256.25" y="158.7836">GitRepostory 信息</text><line style="stroke: #000000; stroke-width: 2.5;" x1="108.125" x2="160.625" y1="248.9221" y2="248.9221"/><line style="stroke: #000000; stroke-width: 2.5;" x1="160.625" x2="160.625" y1="248.9221" y2="265.1721"/><line style="stroke: #000000; stroke-width: 2.5;" x1="109.375" x2="160.625" y1="265.1721" y2="265.1721"/><polygon fill="#000000" points="121.875,260.1721,109.375,265.1721,121.875,270.1721,116.875,265.1721" style="stroke: #000000; stroke-width: 1.25;"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="120" x="116.875" y="242.8516">MyLuceneConfig</text><path d="M251.25,227.3541 L251.25,261.1041 L441.25,261.1041 L441.25,239.8541 L428.75,227.3541 L251.25,227.3541 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M428.75,227.3541 L428.75,239.8541 L441.25,239.8541 L428.75,227.3541 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="163.75" x="258.75" y="252.2266">LuceneRepostory 信息</text><line style="stroke: #000000; stroke-width: 2.5;" x1="108.125" x2="160.625" y1="342.3651" y2="342.3651"/><line style="stroke: #000000; stroke-width: 2.5;" x1="160.625" x2="160.625" y1="342.3651" y2="358.6151"/><line style="stroke: #000000; stroke-width: 2.5;" x1="109.375" x2="160.625" y1="358.6151" y2="358.6151"/><polygon fill="#000000" points="121.875,353.6151,109.375,358.6151,121.875,363.6151,116.875,358.6151" style="stroke: #000000; stroke-width: 1.25;"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="111.25" x="116.875" y="336.2946">MyTokenConfig</text><path d="M242.5,320.7971 L242.5,354.5471 L423.75,354.5471 L423.75,333.2971 L411.25,320.7971 L242.5,320.7971 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M411.25,320.7971 L411.25,333.2971 L423.75,333.2971 L411.25,320.7971 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="155" x="250" y="345.6696">TokenRepostory 信息</text><path d="M16.25,423.6151 L283.75,423.6151 L283.75,434.8651 L271.25,447.3651 L16.25,447.3651 L16.25,423.6151 " fill="#ADFF2F" style="stroke: #0000FF; stroke-width: 1.25;"/><rect fill="none" height="1200.1099" style="stroke: #0000FF; stroke-width: 2.5;" width="1399.375" x="16.25" y="423.6151"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211.25" x="35" y="443.4875">初始化索引库和自定义文件库</text><polygon fill="#000000" points="230.625,473.0011,243.125,478.0011,230.625,483.0011,235.625,478.0011" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="95.625" x2="238.125" y1="478.0011" y2="478.0011"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="13.75" x="104.375" y="471.9305">1.</text><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="85" x="123.125" y="471.9305">crateIndex()</text><line style="stroke: #000000; stroke-width: 2.5;" x1="251.875" x2="304.375" y1="517.6941" y2="517.6941"/><line style="stroke: #000000; stroke-width: 2.5;" x1="304.375" x2="304.375" y1="517.6941" y2="533.9441"/><line style="stroke: #000000; stroke-width: 2.5;" x1="253.125" x2="304.375" y1="533.9441" y2="533.9441"/><polygon fill="#000000" points="265.625,528.9441,253.125,533.9441,265.625,538.9441,260.625,533.9441" style="stroke: #000000; stroke-width: 1.25;"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="13.75" x="260.625" y="511.6235">1.</text><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="85" x="279.375" y="511.6235">crateIndex()</text><path d="M378.75,496.1261 L378.75,529.8761 L551.25,529.8761 L551.25,508.6261 L538.75,496.1261 L378.75,496.1261 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M538.75,496.1261 L538.75,508.6261 L551.25,508.6261 L538.75,496.1261 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="146.25" x="386.25" y="520.9985">加载索引文件的方法</text><path d="M150,590.1941 L311.25,590.1941 L311.25,601.4441 L298.75,613.9441 L150,613.9441 L150,590.1941 " fill="#ADFF2F" style="stroke: #0000FF; stroke-width: 1.25;"/><rect fill="none" height="614.4299" style="stroke: #0000FF; stroke-width: 2.5;" width="1016.25" x="150" y="590.1941"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="168.75" y="610.0665">: createIndex</text><polygon fill="#000000" points="403.75,617.3871,416.25,622.3871,403.75,627.3871,408.75,622.3871" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="251.875" x2="411.25" y1="622.3871" y2="622.3871"/><line style="stroke: #000000; stroke-width: 2.5;" x1="425" x2="477.5" y1="660.2051" y2="660.2051"/><line style="stroke: #000000; stroke-width: 2.5;" x1="477.5" x2="477.5" y1="660.2051" y2="676.4551"/><line style="stroke: #000000; stroke-width: 2.5;" x1="426.25" x2="477.5" y1="676.4551" y2="676.4551"/><polygon fill="#000000" points="438.75,671.4551,426.25,676.4551,438.75,681.4551,433.75,676.4551" style="stroke: #000000; stroke-width: 1.25;"/><path d="M481.25,638.6371 L481.25,694.8871 L800,694.8871 L800,651.1371 L787.5,638.6371 L481.25,638.6371 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M787.5,638.6371 L787.5,651.1371 L800,651.1371 L787.5,638.6371 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="292.5" x="488.75" y="663.5095">获取需要符合要检索的文件名的表达式，</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="81.25" x="488.75" y="685.7025">并进行检索</text><line style="stroke: #000000; stroke-width: 2.5;" x1="258.125" x2="310.625" y1="760.9946" y2="760.9946"/><line style="stroke: #000000; stroke-width: 2.5;" x1="310.625" x2="310.625" y1="760.9946" y2="777.2446"/><line style="stroke: #000000; stroke-width: 2.5;" x1="259.375" x2="310.625" y1="777.2446" y2="777.2446"/><polygon fill="#000000" points="271.875,772.2446,259.375,777.2446,271.875,782.2446,266.875,777.2446" style="stroke: #000000; stroke-width: 1.25;"/><path d="M320,750.5231 L320,784.2731 L588.75,784.2731 L588.75,763.0231 L576.25,750.5231 L320,750.5231 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M576.25,750.5231 L576.25,763.0231 L588.75,763.0231 L576.25,750.5231 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="242.5" x="327.5" y="775.3955">匹配上所有的文件，返回一个 List</text><polygon fill="#000000" points="600,836.4661,612.5,841.4661,600,846.4661,605,841.4661" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="251.875" x2="607.5" y1="841.4661" y2="841.4661"/><line style="stroke: #000000; stroke-width: 2.5;" x1="621.25" x2="673.75" y1="879.2841" y2="879.2841"/><line style="stroke: #000000; stroke-width: 2.5;" x1="673.75" x2="673.75" y1="879.2841" y2="895.5341"/><line style="stroke: #000000; stroke-width: 2.5;" x1="622.5" x2="673.75" y1="895.5341" y2="895.5341"/><polygon fill="#000000" points="635,890.5341,622.5,895.5341,635,900.5341,630,895.5341" style="stroke: #000000; stroke-width: 1.25;"/><path d="M677.5,857.7161 L677.5,913.9661 L1136.25,913.9661 L1136.25,870.2161 L1123.75,857.7161 L677.5,857.7161 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1123.75,857.7161 L1123.75,870.2161 L1136.25,870.2161 L1123.75,857.7161 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="331.25" x="685" y="882.5885">for 循环读取每一个文件，读取它们的基本信息</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="427.5" x="690" y="904.7815">保存在 CustomerFileRepository 中间，（不包含文件内容）</text><line style="stroke: #000000; stroke-width: 2.5;" x1="258.125" x2="310.625" y1="991.17" y2="991.17"/><line style="stroke: #000000; stroke-width: 2.5;" x1="310.625" x2="310.625" y1="991.17" y2="1007.42"/><line style="stroke: #000000; stroke-width: 2.5;" x1="259.375" x2="310.625" y1="1007.42" y2="1007.42"/><polygon fill="#000000" points="271.875,1002.42,259.375,1007.42,271.875,1012.42,266.875,1007.42" style="stroke: #000000; stroke-width: 1.25;"/><path d="M313.75,969.6021 L313.75,1025.8521 L746.25,1025.8521 L746.25,982.1021 L733.75,969.6021 L313.75,969.6021 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M733.75,969.6021 L733.75,982.1021 L746.25,982.1021 L733.75,969.6021 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="215" x="321.25" y="994.4745">把 `文件唯一标识` ，文件名，</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="406.25" x="321.25" y="1016.6675">文件内容（去掉特殊字符的处理，纯文本）放在索引库中</text><polygon fill="#000000" points="600,1077.738,612.5,1082.738,600,1087.738,605,1082.738" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="251.875" x2="607.5" y1="1082.738" y2="1082.738"/><line style="stroke: #000000; stroke-width: 2.5;" x1="621.25" x2="673.75" y1="1120.556" y2="1120.556"/><line style="stroke: #000000; stroke-width: 2.5;" x1="673.75" x2="673.75" y1="1120.556" y2="1136.806"/><line style="stroke: #000000; stroke-width: 2.5;" x1="622.5" x2="673.75" y1="1136.806" y2="1136.806"/><polygon fill="#000000" points="635,1131.806,622.5,1136.806,635,1141.806,630,1136.806" style="stroke: #000000; stroke-width: 1.25;"/><path d="M677.5,1098.988 L677.5,1155.238 L903.75,1155.238 L903.75,1111.488 L891.25,1098.988 L677.5,1098.988 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M891.25,1098.988 L891.25,1111.488 L903.75,1111.488 L891.25,1098.988 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="200" x="685" y="1123.8605">设置 已经初始化完成的标识</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="195" x="690" y="1146.0535">内部文件不允许再进行修改</text><path d="M28.75,1222.124 L198.75,1222.124 L198.75,1233.374 L186.25,1245.874 L28.75,1245.874 L28.75,1222.124 " fill="#ADFF2F" style="stroke: #0000FF; stroke-width: 1.25;"/><rect fill="none" height="392.851" style="stroke: #0000FF; stroke-width: 2.5;" width="1374.375" x="28.75" y="1222.124"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="47.5" y="1241.9965">预加载每个文件</text><polygon fill="#000000" points="600,1249.317,612.5,1254.317,600,1259.317,605,1254.317" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="101.875" x2="607.5" y1="1254.317" y2="1254.317"/><line style="stroke: #000000; stroke-width: 2.5;" x1="621.25" x2="673.75" y1="1281.0385" y2="1281.0385"/><line style="stroke: #000000; stroke-width: 2.5;" x1="673.75" x2="673.75" y1="1281.0385" y2="1297.2885"/><line style="stroke: #000000; stroke-width: 2.5;" x1="622.5" x2="673.75" y1="1297.2885" y2="1297.2885"/><polygon fill="#000000" points="635,1292.2885,622.5,1297.2885,635,1302.2885,630,1297.2885" style="stroke: #000000; stroke-width: 1.25;"/><path d="M683.75,1270.567 L683.75,1304.317 L957.5,1304.317 L957.5,1283.067 L945,1270.567 L683.75,1270.567 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M945,1270.567 L945,1283.067 L957.5,1283.067 L945,1270.567 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="247.5" x="691.25" y="1295.4395">获取所有文件的 `唯一标识` 的集合</text><polygon fill="#000000" points="811.875,1356.51,824.375,1361.51,811.875,1366.51,816.875,1361.51" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="101.875" x2="819.375" y1="1361.51" y2="1361.51"/><line style="stroke: #000000; stroke-width: 2.5;" x1="826.875" x2="885.625" y1="1404.1745" y2="1404.1745"/><line style="stroke: #000000; stroke-width: 2.5;" x1="885.625" x2="885.625" y1="1404.1745" y2="1420.4245"/><line style="stroke: #000000; stroke-width: 2.5;" x1="834.375" x2="885.625" y1="1420.4245" y2="1420.4245"/><polygon fill="#000000" points="846.875,1415.4245,834.375,1420.4245,846.875,1425.4245,841.875,1420.4245" style="stroke: #000000; stroke-width: 1.25;"/><path d="M895,1377.76 L895,1456.51 L1378.75,1456.51 L1378.75,1390.26 L1366.25,1377.76 L895,1377.76 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1366.25,1377.76 L1366.25,1390.26 L1378.75,1390.26 L1366.25,1377.76 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="146.25" x="902.5" y="1402.6324">依次加载每一个文件</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="211.25" x="907.5" y="1424.8254">加载文件进行内容的全部加载</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="457.5" x="902.5" y="1447.0184">（`.md`内容里边的图片链接已经全部替换为 gitee 的CDN地址）</text><polygon fill="#000000" points="628.75,1492.782,616.25,1497.782,628.75,1502.782,623.75,1497.782" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="621.25" x2="819.375" y1="1497.782" y2="1497.782"/><text fill="#0000FF" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="65" x="636.25" y="1491.7114">文件加载</text><line style="stroke: #000000; stroke-width: 2.5;" x1="621.25" x2="673.75" y1="1524.5035" y2="1524.5035"/><line style="stroke: #000000; stroke-width: 2.5;" x1="673.75" x2="673.75" y1="1524.5035" y2="1540.7535"/><line style="stroke: #000000; stroke-width: 2.5;" x1="622.5" x2="673.75" y1="1540.7535" y2="1540.7535"/><polygon fill="#000000" points="635,1535.7535,622.5,1540.7535,635,1545.7535,630,1540.7535" style="stroke: #000000; stroke-width: 1.25;"/><path d="M683.75,1514.032 L683.75,1547.782 L823.75,1547.782 L823.75,1526.532 L811.25,1514.032 L683.75,1514.032 " fill="#FFEFD5" filter="url(#ffg4gzy2a4kb6)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M811.25,1514.032 L811.25,1526.532 L823.75,1526.532 L811.25,1514.032 " fill="#FFEFD5" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="691.25" y="1538.9044">预加载每个文件</text><polygon fill="#000000" points="109.375,1599.975,96.875,1604.975,109.375,1609.975,104.375,1604.975" style="stroke: #000000; stroke-width: 1.25;"/><line style="stroke: #000000; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="101.875" x2="825.625" y1="1604.975" y2="1604.975"/><!--MD5=[e32240880466e04dce48e7c6097a7953]
@startuml

skinparam ArrowThickness 2
skinparam ArrowColor black
skinparam ArrowFontColor blue

skinparam SequenceBoxBackgroundColor yellow


skinparam ParticipantBackgroundColor PapayaWhip
skinparam ParticipantBorderColor black

skinparam ParticipantFontColor blue
skinparam NoteBackgroundColor PapayaWhip
skinparam SequenceLifeLineBorderColor red
skinparam SequenceLifeLineBackgroundColor Pink
skinparam SequenceGroupBorderColor blue

skinparam SequenceGroupBackgroundColor GreenYellow




group 加载相关的配置信息


activate Application
Application -> Application : MyGitRepConfig

activate Application
deactivate Application
note right:  GitRepostory 信息


Application -> Application : MyLuceneConfig
activate Application
deactivate Application
note right:  LuceneRepostory 信息
Application -> Application : MyTokenConfig
activate Application
deactivate Application
note right:  TokenRepostory 信息
deactivate Application
end

group 初始化索引库和自定义文件库
box 索引库
Participant LuceneRepository
end box
Application -> LuceneRepository:#crateIndex()


LuceneRepository -> LuceneRepository:#crateIndex()
note right: 加载索引文件的方法
activate LuceneRepository
deactivate LuceneRepository


group : createIndex
LuceneRepository -> MyLuceneConfig:
activate LuceneRepository
MyLuceneConfig -> MyLuceneConfig:
note right: 获取需要符合要检索的文件名的表达式，\n并进行检索

activate MyLuceneConfig
deactivate MyLuceneConfig


LuceneRepository -> LuceneRepository:
activate LuceneRepository
deactivate LuceneRepository
note right: 匹配上所有的文件，返回一个 List

LuceneRepository -> CustomerFileRepository:
CustomerFileRepository -> CustomerFileRepository:

activate CustomerFileRepository
deactivate CustomerFileRepository
note right : for 循环读取每一个文件，读取它们的基本信息\n 保存在 CustomerFileRepository 中间，（不包含文件内容）
LuceneRepository -> LuceneRepository:
activate LuceneRepository
deactivate LuceneRepository
note right: 把 `文件唯一标识` ，文件名，\n文件内容（去掉特殊字符的处理，纯文本）放在索引库中

LuceneRepository -> CustomerFileRepository:
CustomerFileRepository -> CustomerFileRepository:

activate CustomerFileRepository
deactivate CustomerFileRepository
note right: 设置 已经初始化完成的标识\n 内部文件不允许再进行修改
deactivate LuceneRepository
end

group 预加载每个文件

Application -> CustomerFileRepository:
activate Application
CustomerFileRepository -> CustomerFileRepository:
activate CustomerFileRepository
deactivate CustomerFileRepository
note right: 获取所有文件的 `唯一标识` 的集合

Application -> CustomerFileService:
CustomerFileService -> CustomerFileService:
activate CustomerFileService

note right: 依次加载每一个文件\n 加载文件进行内容的全部加载\n（`.md`内容里边的图片链接已经全部替换为 gitee 的CDN地址）

CustomerFileService -> CustomerFileRepository: 文件加载
CustomerFileRepository -> CustomerFileRepository:
note right: 预加载每个文件
activate CustomerFileRepository

deactivate CustomerFileRepository
CustomerFileService - -> Application:
deactivate CustomerFileService
deactivate Application
end
end

@enduml

PlantUML version 1.2020.07(Sun Apr 19 19:42:40 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.25
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>